# eBPF 기반 네트워크 지연 조기 탐지 시스템


## 📖 개요 (Overview)

본 프로젝트는 복잡한 클라우드 및 컨테이너 환경(Docker Swarm)에서 시스템 장애가 발생하기 전에 나타나는 미세한 **전조 증상(Precursor)**을 실시간으로 탐지하기 위해 개발되었습니다. 리눅스 커널 기술인 eBPF를 활용하여 시스템 부하를 최소화하며 커널 레벨의 데이터를 실시간으로 수집하고, 이를 XGBoost로 분석하여 장애 전조 증상을 사전에 탐지하는 지능형 모니터링 시스템입니다.

### 핵심 특징
* **초저부하 수집:** eBPF 기술 적용으로 기존 에이전트 대비 CPU/메모리 사용량 획기적 감소.
* **심층 가시성:** 사용자 영역에서 볼 수 없는 커널 레벨의 세밀한 메트릭(시스템 콜, 네트워크 스택 등) 확보.
* **지능형 탐지:** 단순 임계치 기반이 아닌, 딥러닝 기반의 비지도 학습으로 정교한 이상 탐지 수행.
* **현실적 검증:** 실제 트래픽 데이터셋 기반의 하이브리드 부하 시나리오 테스트 완료.

---

## 🏗️ 시스템 아키텍처 (System Architecture)

본 시스템은 크게 **네트워크 패킷 분석, 트래픽 재연, 데이터 분석, ML 학습, 시각화**의 5단계 파이프라인으로 구성됩니다.

1.  **실사례 네트워크 패킷 분석:**

2.  **장애상황 재연 및 데이터 수집:** 실제 네트워크 환경과 유사한 부하 분산 처리를 위해 Docker Swarm Orchestration 기반의 분산 트래픽 재연 환경을 구축한다. 총 10개의 Nginx 컨테이너를 구성하여 타겟 시스템에 대한 대규모 동시 접속 및 고부하 상황을 모사할 수 있도록 설계한다.
트래픽 생성 엔진으로는 `wrk HTTP 벤치마킹` 도구를 활용하였으며, 단순한 요청 반복을 넘어 8일 간의 실제 데이터셋 분석 결과를 정교하게 반영하기 위해 Custom Lua Script를 개발하였다.

 이 스크립트를 통해 각 날짜별 핵심 특징인 사용자 에이전트 분포, 도메인별 가중치, 비정상 연결 종료(RSTR) 패턴 등을 실제와 동일하게 구현한다. 나아가, 장애 예측 학습에 유의미한 데이터를 확보하기 위해 실제 시간대별 트래픽 패턴을 따르는 정상구간과, 시스템 한계치까지 연결 수를 임의로 증폭시켜 CPU 및 네트워크 I/O 병목을 유도하여 폭주구간으로 시나리오를 구성해 네트워크 트래픽을 발생시킨다.
  
3.  **eBPF 기반 시스템 메트릭 파싱 모듈 제작:** 
  
4.  **ML 학습:** 
  
5.  **모듈통합 및 UI 제작:**

---

## 💻 웹 UI
<img width="809" height="401" alt="image" src="https://github.com/user-attachments/assets/cfc7aa0c-2837-4832-8f8f-cbf4566cfeeb" />
<img width="834" height="401" alt="image" src="https://github.com/user-attachments/assets/eafa9348-a26b-4764-a685-95ada9000ce2" />
<img width="826" height="391" alt="image" src="https://github.com/user-attachments/assets/9747e368-1595-4afb-8dd7-3277fa4e2882" />


## 💻 설치 및 실행 (Installation & Usage)

### 사전 요구사항 (Prerequisites)
* Linux Kernel 5.4+ (BCC/eBPF 지원 필요)
* Docker & Docker Swarm
* Python 3.8+ 

